{"ast":null,"code":"import{useContext,useEffect,useState}from'react';import{Link}from'react-router-dom';import{UserContext}from'./UserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Header(){const{setUserInfo,userInfo}=useContext(UserContext);useEffect(()=>{fetch('http://localhost:4000/profile',{credentials:'include'}).then(response=>{response.json().then(userInfo=>{setUserInfo(userInfo);});});},[]);function logout(){fetch('http://localhost:4000/logout',{credentials:'include',method:'POST'});setUserInfo(null);}const username=userInfo===null||userInfo===void 0?void 0:userInfo.username;return/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"logo\",children:\"MyBlog\"}),/*#__PURE__*/_jsxs(\"nav\",{children:[username&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/create\",children:\"create new post\"}),/*#__PURE__*/_jsx(Link,{onClick:logout,children:\"logout\"})]}),!username&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"login\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"register\"})]})]})]});}","map":{"version":3,"names":["useContext","useEffect","useState","Link","UserContext","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Header","setUserInfo","userInfo","fetch","credentials","then","response","json","logout","method","username","children","to","className","onClick"],"sources":["/Users/bhagya/Desktop/code/blogs/client/src/Header.js"],"sourcesContent":["import { useContext, useEffect, useState } from 'react';\nimport {Link} from 'react-router-dom';\nimport { UserContext } from './UserContext';\n\nexport default function Header(){\n  const {setUserInfo, userInfo} = useContext(UserContext);\n  \n  useEffect(()=>{\n    fetch('http://localhost:4000/profile',{\n      credentials: 'include',\n    }).then(response => {\n      response.json().then(userInfo=>{\n        setUserInfo(userInfo);\n      })\n    })\n  },[])\n  function logout(){\n    fetch('http://localhost:4000/logout',{\n      credentials: 'include',\n      method: 'POST',\n\n    })\n    setUserInfo(null)\n  }\n  const username = userInfo?.username\n\n    return(\n        <header>\n        <Link to=\"/\" className = \"logo\">MyBlog</Link>\n        <nav>\n          {username && (\n            <>\n            <Link to=\"/create\">create new post</Link>\n            <Link onClick={logout}>logout</Link>\n            </>\n          )}\n          {!username && (\n            <>\n          <Link to=\"/login\">login</Link>\n          <Link to=\"/register\">register</Link>\n            </>\n          )}\n\n        </nav>\n      </header>\n    )\n} "],"mappings":"AAAA,OAASA,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACvD,OAAQC,IAAI,KAAO,kBAAkB,CACrC,OAASC,WAAW,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5C,cAAe,SAAS,CAAAC,MAAMA,CAAA,CAAE,CAC9B,KAAM,CAACC,WAAW,CAAEC,QAAQ,CAAC,CAAGb,UAAU,CAACI,WAAW,CAAC,CAEvDH,SAAS,CAAC,IAAI,CACZa,KAAK,CAAC,+BAA+B,CAAC,CACpCC,WAAW,CAAE,SACf,CAAC,CAAC,CAACC,IAAI,CAACC,QAAQ,EAAI,CAClBA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAACF,IAAI,CAACH,QAAQ,EAAE,CAC7BD,WAAW,CAACC,QAAQ,CAAC,CACvB,CAAC,CAAC,CACJ,CAAC,CAAC,CACJ,CAAC,CAAC,EAAE,CAAC,CACL,QAAS,CAAAM,MAAMA,CAAA,CAAE,CACfL,KAAK,CAAC,8BAA8B,CAAC,CACnCC,WAAW,CAAE,SAAS,CACtBK,MAAM,CAAE,MAEV,CAAC,CAAC,CACFR,WAAW,CAAC,IAAI,CAAC,CACnB,CACA,KAAM,CAAAS,QAAQ,CAAGR,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEQ,QAAQ,CAEjC,mBACIX,KAAA,WAAAY,QAAA,eACAhB,IAAA,CAACH,IAAI,EAACoB,EAAE,CAAC,GAAG,CAACC,SAAS,CAAG,MAAM,CAAAF,QAAA,CAAC,QAAM,CAAM,CAAC,cAC7CZ,KAAA,QAAAY,QAAA,EACGD,QAAQ,eACPX,KAAA,CAAAF,SAAA,EAAAc,QAAA,eACAhB,IAAA,CAACH,IAAI,EAACoB,EAAE,CAAC,SAAS,CAAAD,QAAA,CAAC,iBAAe,CAAM,CAAC,cACzChB,IAAA,CAACH,IAAI,EAACsB,OAAO,CAAEN,MAAO,CAAAG,QAAA,CAAC,QAAM,CAAM,CAAC,EAClC,CACH,CACA,CAACD,QAAQ,eACRX,KAAA,CAAAF,SAAA,EAAAc,QAAA,eACFhB,IAAA,CAACH,IAAI,EAACoB,EAAE,CAAC,QAAQ,CAAAD,QAAA,CAAC,OAAK,CAAM,CAAC,cAC9BhB,IAAA,CAACH,IAAI,EAACoB,EAAE,CAAC,WAAW,CAAAD,QAAA,CAAC,UAAQ,CAAM,CAAC,EAChC,CACH,EAEE,CAAC,EACA,CAAC,CAEf"},"metadata":{},"sourceType":"module","externalDependencies":[]}