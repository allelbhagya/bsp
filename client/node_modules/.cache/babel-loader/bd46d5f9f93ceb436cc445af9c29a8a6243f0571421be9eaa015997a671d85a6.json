{"ast":null,"code":"import{useState}from'react';import ReactQill from'react-quill';import'react-quill/dist/quill.snow.css';import{Navigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CreatePost(){const[title,setTitle]=useState('');const[summary,setSummary]=useState('');const[content,setContent]=useState('');const[files,setFiles]=useState('');const[redirect,setRedirect]=useState(false);async function createNewPost(ev){const data=new FormData();data.set('title',title);data.set('summary',summary);data.set('content',content);data.set('file',files[0]);ev.preventDefault();const response=await fetch('http://localhost:4000/post',{method:'POST',body:data,credentials:'include'});if(response.ok){setRedirect(true);}}if(redirect){/*#__PURE__*/_jsx(Navigate,{to:'/'});}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:createNewPost,children:[/*#__PURE__*/_jsx(\"input\",{type:\"title\",placeholder:'Title',value:title,onChange:ev=>setTitle(ev.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"summary\",placeholder:'summary',value:summary,onChange:ev=>setSummary(ev.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:ev=>setFiles(ev.target.files)}),/*#__PURE__*/_jsx(ReactQill,{value:content,onChange:newValue=>setContent(newValue)}),/*#__PURE__*/_jsx(\"button\",{style:{marginTop:'5px'},children:\"Create post\"})]});}","map":{"version":3,"names":["useState","ReactQill","Navigate","jsx","_jsx","jsxs","_jsxs","CreatePost","title","setTitle","summary","setSummary","content","setContent","files","setFiles","redirect","setRedirect","createNewPost","ev","data","FormData","set","preventDefault","response","fetch","method","body","credentials","ok","to","onSubmit","children","type","placeholder","value","onChange","target","newValue","style","marginTop"],"sources":["/Users/bhagya/Desktop/code/blogs/client/src/pages/CreatePost.js"],"sourcesContent":["import { useState } from 'react';\nimport ReactQill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport {Navigate} from 'react-router-dom';\n\nexport default function CreatePost(){\n    const [title, setTitle] = useState('');\n    const [summary, setSummary] = useState('');\n    const [content, setContent] = useState('');\n    const [files, setFiles] = useState('');\n    const [redirect, setRedirect] = useState(false);\n\n    async function createNewPost(ev){\n        const data = new FormData();\n        data.set('title', title)\n        data.set('summary', summary)\n        data.set('content', content)\n        data.set('file', files[0])\n        ev.preventDefault();\n        const response = await fetch('http://localhost:4000/post',{\n            method: 'POST',\n            body: data,\n            credentials: 'include',\n        })\n        if(response.ok){\n            setRedirect(true);\n        }\n        \n    }\n\nif(redirect){\n    <Navigate to={'/'}/>\n}\n    return (\n<form onSubmit={createNewPost}>\n    <input type=\"title\" \n    placeholder={'Title'} \n    value ={title} \n    onChange={ev=> setTitle(ev.target.value)}/>\n    <input type = \"summary\" \n    placeholder={'summary'}\n    value = {summary}\n    onChange={ev=> setSummary(ev.target.value)}/>\n    <input type = \"file\"\n    onChange={ev=>setFiles(ev.target.files)}/>\n    <ReactQill \n    value = {content} \n    onChange={newValue=>setContent(newValue)} />\n    <button style={{marginTop:'5px'}}>Create post</button>\n\n</form>\n    )\n}\n\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,iCAAiC,CACxC,OAAQC,QAAQ,KAAO,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1C,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAE,CAChC,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACc,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACgB,QAAQ,CAAEC,WAAW,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAE/C,cAAe,CAAAkB,aAAaA,CAACC,EAAE,CAAC,CAC5B,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC3BD,IAAI,CAACE,GAAG,CAAC,OAAO,CAAEd,KAAK,CAAC,CACxBY,IAAI,CAACE,GAAG,CAAC,SAAS,CAAEZ,OAAO,CAAC,CAC5BU,IAAI,CAACE,GAAG,CAAC,SAAS,CAAEV,OAAO,CAAC,CAC5BQ,IAAI,CAACE,GAAG,CAAC,MAAM,CAAER,KAAK,CAAC,CAAC,CAAC,CAAC,CAC1BK,EAAE,CAACI,cAAc,CAAC,CAAC,CACnB,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,4BAA4B,CAAC,CACtDC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEP,IAAI,CACVQ,WAAW,CAAE,SACjB,CAAC,CAAC,CACF,GAAGJ,QAAQ,CAACK,EAAE,CAAC,CACXZ,WAAW,CAAC,IAAI,CAAC,CACrB,CAEJ,CAEJ,GAAGD,QAAQ,CAAC,CACR,aAAAZ,IAAA,CAACF,QAAQ,EAAC4B,EAAE,CAAE,GAAI,CAAC,CAAC,CACxB,CACI,mBACJxB,KAAA,SAAMyB,QAAQ,CAAEb,aAAc,CAAAc,QAAA,eAC1B5B,IAAA,UAAO6B,IAAI,CAAC,OAAO,CACnBC,WAAW,CAAE,OAAQ,CACrBC,KAAK,CAAG3B,KAAM,CACd4B,QAAQ,CAAEjB,EAAE,EAAGV,QAAQ,CAACU,EAAE,CAACkB,MAAM,CAACF,KAAK,CAAE,CAAC,CAAC,cAC3C/B,IAAA,UAAO6B,IAAI,CAAG,SAAS,CACvBC,WAAW,CAAE,SAAU,CACvBC,KAAK,CAAIzB,OAAQ,CACjB0B,QAAQ,CAAEjB,EAAE,EAAGR,UAAU,CAACQ,EAAE,CAACkB,MAAM,CAACF,KAAK,CAAE,CAAC,CAAC,cAC7C/B,IAAA,UAAO6B,IAAI,CAAG,MAAM,CACpBG,QAAQ,CAAEjB,EAAE,EAAEJ,QAAQ,CAACI,EAAE,CAACkB,MAAM,CAACvB,KAAK,CAAE,CAAC,CAAC,cAC1CV,IAAA,CAACH,SAAS,EACVkC,KAAK,CAAIvB,OAAQ,CACjBwB,QAAQ,CAAEE,QAAQ,EAAEzB,UAAU,CAACyB,QAAQ,CAAE,CAAE,CAAC,cAC5ClC,IAAA,WAAQmC,KAAK,CAAE,CAACC,SAAS,CAAC,KAAK,CAAE,CAAAR,QAAA,CAAC,aAAW,CAAQ,CAAC,EAEpD,CAAC,CAEP"},"metadata":{},"sourceType":"module","externalDependencies":[]}